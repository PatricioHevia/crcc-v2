<div class="bg-white dark:bg-[#202123] rounded-lg shadow-lg p-4 flex flex-col h-full">
  <swiper-container
    *ngIf="project().galleryImages && project().galleryImages!.length > 0" autoplay-delay="4000"
    effect="fade"
    grab-cursor="true"
    centered-slides="true"
    slides-per-view="auto"
    class="w-full rounded-lg overflow-hidden mb-4"
    style="aspect-ratio:16/9;"
  >
    <ng-container *ngFor="let img of project().galleryImages">
      <swiper-slide class="relative">
        <img
          [src]="img"
          [alt]="localizedField('name')" class="w-full h-full object-cover"
        />
      </swiper-slide>
    </ng-container>

    <div slot="navigation-prev" class="swiper-button-prev text-gray-800 dark:text-gray-200"></div>
    <div slot="navigation-next" class="swiper-button-next text-gray-800 dark:text-gray-200"></div>
    <div slot="pagination" class="swiper-pagination mt-2"></div>
  </swiper-container>
  <div *ngIf="!project().galleryImages || project().galleryImages!.length === 0"
       class="w-full rounded-lg overflow-hidden mb-4 flex items-center justify-center bg-gray-100 dark:bg-gray-800"
       style="aspect-ratio:16/9;">
    <img *ngIf="project().image" [src]="project().image" [alt]="localizedField('name')" class="w-full h-full object-contain opacity-50" />
    <i *ngIf="!project().image" class="pi pi-image text-4xl text-gray-400 dark:text-gray-500"></i>
  </div>


  <p-divider></p-divider>

  <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2">
    {{ localizedField('name') }}
  </h3>

  <p class="text-gray-700 dark:text-gray-300 mb-4 flex-grow overflow-hidden text-justify">
    {{ localizedField('description') | slice:0:150 }}{{ localizedField('description').length > 150 ? '...' : '' }} </p>

  <div class="flex flex-wrap items-center justify-between mb-4 text-sm">
    <div class="flex items-center space-x-1">
      <i class="pi pi-calendar"></i>
      <span>{{ 'PROJECTCARD.INICIO' | translate }}:</span>
      <span class="text-gray-600 dark:text-gray-400">
        {{
          project().adwardDate?.toDate()
            | date:'mediumDate':undefined:lang() }}
      </span>
    </div>
    <p-tag
      *ngIf="project().phase" [value]="getPhaseTranslationKey() | translate"
      [ngClass]="getPhaseTagClasses()"
      class="mt-2 md:mt-0"
    ></p-tag>
  </div>

  <p-button
    icon="pi pi-eye"
    [label]="'PROJECTCARD.VER' | translate"
    severity="success"
    [routerLink]="['/proyectos', project().url]" class="mt-auto w-full"
  ></p-button>
</div>