<!-- Header con logo y botón de cerrar -->
<div class="flex items-center p-4 w-full">
  <img
    [src]="themeService.isDarkTheme() ? 'assets/images/logos/Logo-CRCC-DM.png' : 'assets/images/logos/Logo-CRCC.png'"
    alt="{{ 'TOPBAR.TITUTLO' | translate }}" class="h-12 w-auto mr-2 flex-shrink-0">
  <span class="flex-grow text-xl text-center font-semibold dark:text-gray-200">
    {{ 'ADMIN.OFFICES.NEW_OFFICE_TITLE' | translate }}
  </span>
  <p-button icon="pi pi-times" (onClick)="onOfficeSaved.emit()"
    styleClass="p-button-rounded p-button-text p-button-plain flex-shrink-0">
  </p-button>
</div>

<p-divider></p-divider>

<!-- Contenido del formulario -->
<div class="flex-grow overflow-y-auto">
  <form [formGroup]="officeForm" (ngSubmit)="onSubmit()" class="p-4 flex flex-col gap-4">
    
    <!-- Nombre en Español -->
    <div class="flex flex-col">
      <label for="name_es" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
        {{ 'ADMIN.OFFICES.FORM_NAME_ES' | translate }} <span class="text-red-500">*</span>
      </label>
      <input 
        id="name_es"
        type="text" 
        pInputText 
        formControlName="name_es"
        class="w-full"
        [class.ng-invalid]="officeForm.get('name_es')?.invalid && officeForm.get('name_es')?.touched"
      />
      <small 
        class="text-red-500" 
        *ngIf="officeForm.get('name_es')?.invalid && officeForm.get('name_es')?.touched">
        {{ 'ADMIN.OFFICES.FORM_NAME_REQUIRED' | translate }}
      </small>
    </div>

    <!-- Nombre en Inglés -->
    <div class="flex flex-col">
      <label for="name_en" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
        {{ 'ADMIN.OFFICES.FORM_NAME_EN' | translate }} <span class="text-red-500">*</span>
      </label>
      <input 
        id="name_en"
        type="text" 
        pInputText 
        formControlName="name_en"
        class="w-full"
        [class.ng-invalid]="officeForm.get('name_en')?.invalid && officeForm.get('name_en')?.touched"
      />
      <small 
        class="text-red-500" 
        *ngIf="officeForm.get('name_en')?.invalid && officeForm.get('name_en')?.touched">
        {{ 'ADMIN.OFFICES.FORM_NAME_REQUIRED' | translate }}
      </small>
    </div>

    <!-- Nombre en Chino -->
    <div class="flex flex-col">
      <label for="name_zh" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
        {{ 'ADMIN.OFFICES.FORM_NAME_ZH' | translate }} <span class="text-red-500">*</span>
      </label>
      <input 
        id="name_zh"
        type="text" 
        pInputText 
        formControlName="name_zh"
        class="w-full"
        [class.ng-invalid]="officeForm.get('name_zh')?.invalid && officeForm.get('name_zh')?.touched"
      />
      <small 
        class="text-red-500" 
        *ngIf="officeForm.get('name_zh')?.invalid && officeForm.get('name_zh')?.touched">
        {{ 'ADMIN.OFFICES.FORM_NAME_REQUIRED' | translate }}
      </small>
    </div>

  </form>
</div>

<p-divider></p-divider>

<!-- Footer con botones -->
<div class="p-4 flex justify-end gap-2">
  <p-button 
    [label]="'COMMON.CANCEL' | translate" 
    severity="secondary" 
    (onClick)="onOfficeSaved.emit()">
  </p-button>
  <p-button 
    [label]="'COMMON.SAVE' | translate" 
    type="submit" 
    [disabled]="officeForm.invalid || loading"
    [loading]="loading"
    (onClick)="onSubmit()">
  </p-button>
</div>
